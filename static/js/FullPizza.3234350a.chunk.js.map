{"version":3,"file":"static/js/FullPizza.3234350a.chunk.js","mappings":"kNAOMA,EAAsB,CAAC,uCAAU,4EAuHvC,UArH4B,WAE3B,OAA0BC,EAAAA,EAAAA,YAQtB,eARGC,EAAK,KAAEC,EAAQ,KAUdC,GAAOC,EAAAA,EAAAA,MAAPD,GACFE,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MAEjB,GAAoCR,EAAAA,EAAAA,UAAS,GAAE,eAAxCS,EAAU,KAAEC,EAAa,KAChC,GAAoCV,EAAAA,EAAAA,UAAS,GAAE,eAAxCW,EAAU,KAAEC,EAAa,KAmBhC,IAhBAC,EAAAA,EAAAA,YAAU,WACgB,aASxB,OATwB,0BAAzB,oHAEyBC,EAAAA,EAAAA,IAAU,sDAAwDX,GAAI,KAAD,WAApFY,EAAI,EAAJA,KACRb,EAASa,GAAM,gDAEfC,QAAQC,IAAI,EAAD,IACXC,MAAM,iJACNb,EAAS,KAAK,0DAEf,uBAVe,WACS,wBAWzBc,EACD,GAAG,KAGElB,EACJ,OAAO,cAAGmB,UAAU,OAAM,SAAC,wDAmB5B,OACC,gBAAKA,UAAU,UAAS,UACvB,iBAAKA,UAAU,QAAO,WACrB,gBAAKA,UAAU,aAAaC,IAAKpB,EAAMqB,YAEvC,4BACC,wBAAKrB,EAAMsB,SACX,uBAAG,2CACH,eAAIH,UAAU,kBAAiB,SAE7BnB,EAAMuB,YAAYC,KAAI,SAACC,EAAMC,GAC5B,OAAO,wBAAaD,GAAJC,EACjB,OAGF,iBAAKP,UAAU,wBAAuB,WACrC,wBAEEnB,EAAM2B,MAAMH,KAAI,SAACI,GAAM,OACtB,eAAiBC,QAAS,kBAAMpB,EAAcmB,EAAO,EAAET,UAAWX,IAAeoB,EAAS,SAAW,GAAG,SACtG9B,EAAU8B,IADHA,EAEJ,OAIR,wBAEE5B,EAAM8B,MAAMN,KAAI,SAACO,EAAML,GAAC,OACvB,gBAAYG,QAAS,kBAAMlB,EAAce,EAAE,EAAEP,UAAWT,IAAegB,EAAI,SAAW,GAAG,UACvFK,EAAK,mBADEL,EAEJ,UAQT,iBAAKP,UAAU,sBAAqB,WACnC,iBAAKA,UAAU,qBAAoB,UAAC,gBAAInB,EAAMgC,MAAM,cACpD,oBAAQH,QAvDM,WAClB,IAAMJ,EAAiB,CACtBvB,GAAIF,EAAME,GACVoB,MAAOtB,EAAMsB,MACbU,MAAOhC,EAAMgC,MACbX,SAAUrB,EAAMqB,SAChBY,KAAMnC,EAAUU,GAChBuB,KAAM/B,EAAM8B,MAAMpB,GAClBa,YAAa,GACbW,MAAO,GAGR5B,GAAS6B,EAAAA,EAAAA,IAAQV,GAClB,EA0CkCN,UAAU,qCAAoC,WAC1E,gBAAKiB,MAAM,KAAKC,OAAO,KAAKC,QAAQ,YAAYC,KAAK,OAAOC,MAAM,6BAA4B,UAC7F,iBACCC,EAAE,2QACFF,KAAK,aAEP,0BAAM,kEAYb,C","sources":["pages/FullPizza.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { useDispatch } from 'react-redux';\r\nimport { addItem, CartItem } from '../redux/slices/cartSlice';\r\n\r\n\r\nconst typeNames: string[] = [\"тонкое\", \"традиционное\"];\r\n\r\nconst FullPizza: React.FC = () => {\r\n\r\n\tconst [pizza, setPizza] = useState<{\r\n\t\tid: string;\r\n\t\timageUrl: string;\r\n\t\ttitle: string;\r\n\t\tdescription: string[];\r\n\t\tprice: number;\r\n\t\tsizes: number[];\r\n\t\ttypes: number[];\r\n\t}>();\r\n\r\n\tconst { id } = useParams();\r\n\tconst navigate = useNavigate();\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst [activeType, setActiveType] = useState(0);\r\n\tconst [activeSize, setActiveSize] = useState(0);\r\n\r\n\r\n\tuseEffect(() => {\r\n\t\tasync function fetchPizza() {\r\n\t\t\ttry {\r\n\t\t\t\tconst { data } = await axios.get('https://63ecee6d31ef61473b2c83ce.mockapi.io/pizzas/' + id);\r\n\t\t\t\tsetPizza(data);\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.log(error);\r\n\t\t\t\talert('Ошибка при получении пиццы');\r\n\t\t\t\tnavigate('/');\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfetchPizza();\r\n\t}, []);\r\n\r\n\r\n\tif (!pizza) {\r\n\t\treturn <p className=\"load\">Загрузка...</p>\r\n\t}\r\n\r\n\r\n\tconst onClickAdd = () => {\r\n\t\tconst item: CartItem = {\r\n\t\t\tid: pizza.id,\r\n\t\t\ttitle: pizza.title,\r\n\t\t\tprice: pizza.price,\r\n\t\t\timageUrl: pizza.imageUrl,\r\n\t\t\ttype: typeNames[activeType],\r\n\t\t\tsize: pizza.sizes[activeSize],\r\n\t\t\tdescription: [],\r\n\t\t\tcount: 0,\r\n\t\t};\r\n\r\n\t\tdispatch(addItem(item));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"content\">\r\n\t\t\t<div className=\"pizza\">\r\n\t\t\t\t<img className=\"pizza__img\" src={pizza.imageUrl} />\r\n\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<h2>{pizza.title}</h2>\r\n\t\t\t\t\t<p>Состав:</p>\r\n\t\t\t\t\t<ul className=\"pizza__compound\">\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tpizza.description.map((item, i) => {\r\n\t\t\t\t\t\t\t\treturn <li key={i}>{item}</li>\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t\t<div className=\"pizza-block__selector\">\r\n\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tpizza.types.map((typeId) => (\r\n\t\t\t\t\t\t\t\t\t<li key={typeId} onClick={() => setActiveType(typeId)} className={activeType === typeId ? \"active\" : \"\"}>\r\n\t\t\t\t\t\t\t\t\t\t{typeNames[typeId]}\r\n\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tpizza.sizes.map((size, i) => (\r\n\t\t\t\t\t\t\t\t\t<li key={i} onClick={() => setActiveSize(i)} className={activeSize === i ? \"active\" : \"\"}>\r\n\t\t\t\t\t\t\t\t\t\t{size} см.\r\n\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</div>\r\n\r\n\r\n\r\n\t\t\t\t\t<div className=\"pizza-block__bottom\">\r\n\t\t\t\t\t\t<div className=\"pizza-block__price\">от {pizza.price} ₽</div>\r\n\t\t\t\t\t\t<button onClick={onClickAdd} className=\"button button--outline button--add\">\r\n\t\t\t\t\t\t\t<svg width=\"12\" height=\"12\" viewBox=\"0 0 12 12\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\td=\"M10.8 4.8H7.2V1.2C7.2 0.5373 6.6627 0 6 0C5.3373 0 4.8 0.5373 4.8 1.2V4.8H1.2C0.5373 4.8 0 5.3373 0 6C0 6.6627 0.5373 7.2 1.2 7.2H4.8V10.8C4.8 11.4627 5.3373 12 6 12C6.6627 12 7.2 11.4627 7.2 10.8V7.2H10.8C11.4627 7.2 12 6.6627 12 6C12 5.3373 11.4627 4.8 10.8 4.8Z\"\r\n\t\t\t\t\t\t\t\t\tfill=\"white\" />\r\n\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t<span>Добавить</span>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\r\n\r\n\r\n\t\t\t\t</div>\r\n\r\n\t\t\t</div>\r\n\r\n\t\t</div>\r\n\t)\r\n};\r\n\r\n\r\nexport default FullPizza;"],"names":["typeNames","useState","pizza","setPizza","id","useParams","navigate","useNavigate","dispatch","useDispatch","activeType","setActiveType","activeSize","setActiveSize","useEffect","axios","data","console","log","alert","fetchPizza","className","src","imageUrl","title","description","map","item","i","types","typeId","onClick","sizes","size","price","type","count","addItem","width","height","viewBox","fill","xmlns","d"],"sourceRoot":""}